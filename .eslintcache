[{"/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/index.js":"1","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/App.js":"2","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/reportWebVitals.js":"3","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/Sidebar.js":"4","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/SidebarChat.js":"5","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/Chat.js":"6","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/firebase.js":"7","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/Login.js":"8","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/StateProvider.js":"9","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/reducer.js":"10"},{"size":695,"mtime":1610013629447,"results":"11","hashOfConfig":"12"},{"size":832,"mtime":1610008101385,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1609874995045,"results":"14","hashOfConfig":"12"},{"size":1955,"mtime":1610008850357,"results":"15","hashOfConfig":"12"},{"size":1622,"mtime":1610014973926,"results":"16","hashOfConfig":"12"},{"size":3409,"mtime":1610014304871,"results":"17","hashOfConfig":"12"},{"size":704,"mtime":1609943885846,"results":"18","hashOfConfig":"12"},{"size":1006,"mtime":1610008430327,"results":"19","hashOfConfig":"12"},{"size":397,"mtime":1610007462482,"results":"20","hashOfConfig":"12"},{"size":427,"mtime":1610007121801,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"hs4hre",{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"28"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},"/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/index.js",[],"/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/App.js",["46","47"],"/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/reportWebVitals.js",[],["48","49"],"/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/Sidebar.js",["50"],"import React, { useEffect, useState } from \"react\";\r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\r\nimport ChatIcon from \"@material-ui/icons/Chat\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport { SearchOutlined } from \"@material-ui/icons\";\r\nimport \"./Sidebar.css\";\r\nimport SidebarChat from \"./SidebarChat\";\r\nimport db from \"./firebase\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\n\r\n\r\n\r\nfunction Sidebar() {\r\n  const [rooms, setRooms] = useState([]);\r\n  const [{ user }, dispatch] = useStateValue();\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = db.collection(\"rooms\").onSnapshot((snapshot) =>\r\n      setRooms(\r\n        snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          data: doc.data(),\r\n        })\r\n        ))\r\n    );\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n    return (\r\n      <div className=\"sidebar\">\r\n        <div className=\"sidebar__header\">\r\n          <Avatar src={ user?.photoURL} />\r\n          <div className=\"sidebar__headerRight\">\r\n            <IconButton>\r\n              <DonutLargeIcon />\r\n            </IconButton>\r\n            <IconButton>\r\n              <ChatIcon />\r\n            </IconButton>\r\n            <IconButton>\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n        <div className=\"sidebar__search\">\r\n          <div className=\"sidebar__searchContainer\">\r\n            <SearchOutlined />\r\n            <input placeholder=\"Search or start new chart\" type=\"text\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"sidebar__chats\">\r\n          <\r\n// @ts-ignore\r\n          SidebarChat addNewChat />\r\n          {rooms.map(room => (\r\n            // @ts-ignore\r\n            <SidebarChat key = {room.id} id={room.id}\r\n            name={room.data.name} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;\r\n","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/SidebarChat.js",["51"],"import React, { useEffect, useState } from \"react\";\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport \"./SidebarChat.css\";\r\nimport db from \"./firebase\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nfunction SidebarChat({ id, name, addNewChat }) {\r\n    const [seed, setSeed] = useState(\"\");\r\n    const [messages, setMessages] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            db.collection(\"rooms\")\r\n                .doc(id)\r\n                .collection(\"messages\")\r\n                .orderBy(\"timestamp\", \"desc\")\r\n                .onSnapshot((snapshot) =>\r\n                    setMessages(snapshot.docs.map((doc) => doc.data()))\r\n                );\r\n            }\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        // @ts-ignore\r\n        setSeed(Math.floor(Math.random() * 5000));\r\n    }, []);\r\n\r\n    const createChat = () => {\r\n        const roomName = prompt(\"please enter name for chat room\");\r\n        if (roomName) {\r\n            db.collection(\"rooms\").add({\r\n                name: roomName,\r\n            });\r\n        }\r\n    };\r\n\r\n    return !addNewChat ? (\r\n        <Link to={`/rooms/${id}`}>\r\n            <div className=\"sidebarChat\">\r\n                <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`} />\r\n                <div className=\"sidebarChat__info\">\r\n                    <h2>{name}</h2>\r\n                    <p>{messages[0]?.message}</p>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    ) : (\r\n        <div onClick={createChat} className=\"sidebarChat\">\r\n            <h2>Add new Chat</h2>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SidebarChat\r\n","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/Chat.js",["52"],"import React, { useEffect, useState } from \"react\";\r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport { AttachFile, InsertEmoticon, MoreVert, SearchOutlined } from \"@material-ui/icons\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"./Chat.css\";\r\nimport db from \"./firebase\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport firebase from \"firebase\";\r\n\r\n\r\nfunction Chat() {\r\n  const [input, setInput] = useState(\"\");\r\n  const [seed, setSeed] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n  // @ts-ignore\r\n  const { roomId } = useParams();\r\n  const [roomName, setRoomName] = useState(\"\");\r\n  const [{ user }, dispatch] = useStateValue();\r\n\r\n  useEffect(() => {\r\n    if (roomId) {\r\n      db.collection(\"rooms\").doc(roomId).onSnapshot(snapshot =>\r\n        setRoomName(snapshot.data().name));\r\n        \r\n      db.collection(\"rooms\")\r\n        .doc(roomId)\r\n        .collection(\"messages\")\r\n        .orderBy ( \"timestamp\", \"asc\" )\r\n        .onSnapshot(snapshot => (\r\n          setMessages(snapshot.docs.map(doc => doc.data()))\r\n        ));\r\n    }\r\n  }, [roomId]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n      // @ts-ignore\r\n      setSeed(Math.floor(Math.random() * 5000));\r\n    }, [roomId]);\r\n    \r\n    const sendMessage = (e) => {\r\n      e.preventDefault();\r\n      \r\n      db.collection(\"rooms\")\r\n        .doc(roomId)\r\n        .collection(\"messages\")\r\n        .add({\r\n          message:input,\r\n          name: user.displayName,\r\n          timestamp: firebase\r\n            .firestore\r\n            .FieldValue\r\n            .serverTimestamp(),\r\n      })\r\n        setInput(\"\");\r\n    }\r\n\r\n    return (\r\n      <div className=\"chat\">\r\n        <div className=\"chat__header\">\r\n          <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`} />\r\n          <div className=\"chat__headerInfo\">\r\n            <h3>{roomName}</h3>\r\n            <p>\r\n              last seen{\"\"}\r\n              {new Date(messages[messages.length - 1]?.timestamp?.toDate()\r\n              ).toUTCString()}\r\n            </p>\r\n          </div>\r\n          <div className=\"chat__headerRight\">\r\n            <IconButton>\r\n              <SearchOutlined />\r\n            </IconButton>\r\n            <IconButton>\r\n              <AttachFile />\r\n            </IconButton>\r\n            <IconButton>\r\n              <MoreVert />\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n        <div className=\"chat__body\">\r\n          {messages.map((message) => (\r\n            <p className={`chat__message ${message.name === user.displayName && \"chat__receiver\"}`}>\r\n              <span className=\"chat__name\">{message.name}</span>\r\n              {message.message}\r\n              <span className=\"chat__timestamp\">\r\n                {new Date(message.timestamp?.toDate()).toUTCString()}\r\n              </span>\r\n            </p>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"chat__footer\">\r\n          <InsertEmoticon />\r\n          <form>\r\n            <input\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              placeholder=\"Type a message\"\r\n              type=\"text\"\r\n            />\r\n            <button onClick={sendMessage} type=\"submit\">\r\n              Send a message\r\n            </button>\r\n          </form>\r\n          <MicIcon />\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Chat\r\n","/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/firebase.js",[],"/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/Login.js",["53"],"/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/StateProvider.js",[],"/mnt/c/PROJ/whatsapp-jayprecode's-clone/whatsapp-clone/src/reducer.js",["54","55","56","57"],{"ruleId":"58","severity":1,"message":"59","line":1,"column":17,"nodeType":"60","messageId":"61","endLine":1,"endColumn":25},{"ruleId":"58","severity":1,"message":"62","line":10,"column":20,"nodeType":"60","messageId":"61","endLine":10,"endColumn":28},{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","replacedBy":"66"},{"ruleId":"58","severity":1,"message":"62","line":17,"column":20,"nodeType":"60","messageId":"61","endLine":17,"endColumn":28},{"ruleId":"67","severity":1,"message":"68","line":22,"column":8,"nodeType":"69","endLine":22,"endColumn":10,"suggestions":"70"},{"ruleId":"58","severity":1,"message":"62","line":19,"column":20,"nodeType":"60","messageId":"61","endLine":19,"endColumn":28},{"ruleId":"71","severity":1,"message":"72","line":9,"column":12,"nodeType":"73","messageId":"74","endLine":9,"endColumn":14},{"ruleId":"75","severity":1,"message":"76","line":11,"column":5,"nodeType":"77","messageId":"78","endLine":19,"endColumn":6},{"ruleId":"79","severity":1,"message":"80","line":17,"column":13,"nodeType":"81","messageId":"82","endLine":18,"endColumn":26},{"ruleId":"83","severity":1,"message":"84","line":17,"column":13,"nodeType":"60","messageId":"85","endLine":17,"endColumn":19,"fix":"86"},{"ruleId":"87","severity":1,"message":"88","line":17,"column":13,"nodeType":"81","messageId":"89","endLine":18,"endColumn":26},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","no-native-reassign",["90"],"no-negated-in-lhs",["91"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.","ArrayExpression",["92"],"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-labels","Unexpected labeled statement.","LabeledStatement","unexpectedLabel","no-unused-labels","'defaut:' is defined but never used.","unused",{"range":"93","text":"94"},"no-unreachable","Unreachable code.","unreachableCode","no-global-assign","no-unsafe-negation",{"desc":"95","fix":"96"},[358,379],"","Update the dependencies array to be: [id]",{"range":"97","text":"98"},[699,701],"[id]"]